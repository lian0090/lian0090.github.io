<!DOCTYPE html>
<html>
<head>
    <!--
    * Author:         Lian Lian 
    -->
    <meta charset="utf-8" />
    <title>Python memo | lianlian.com</title>
    <meta name="author" content="Lian Lian" />
    <meta name="renderer" content="webkit">
    <meta name="description" content="Lian Lian's Blog" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <link rel="stylesheet" href="/css/default.css" type="text/css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="alternate" type="application/atom+xml" title="Recent Entries" href="/atom.xml" />
    <script src="/js/jquery-1.7.1.min.js" type="text/javascript"></script>
</head>
<body>



   <div class="home-menu">
        <div class="home-icon-con">
            <a class="home-menu-icon" href="/">Lian Lian </a>           
        </div>
       
<!--
 
  <div>
<script>
  (function() {
    var cx = '001502921916385974381:ylnbr82nqdm';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
</div>
-->
         <!-- 
        Beiyuu's original link to douban 
        <div class="home-contact">
            <a href="http://www.weibo.com/beiyuu" target="_blank" style="margin-left:-5px;"><img src="http://www.weibo.com/favicon.ico" alt="" width="25"/></a>
            <a href="http://www.douban.com/people/beiyuu/" target="_blank" style="text-align:center;"><img src="http://www.douban.com/favicon.ico" alt="" width="22"/></a>
            <a href="http://instagram.com/beiyuu/" target="_blank" style="text-align:right"><img src="http://d36xtkk24g8jdx.cloudfront.net/bluebar/00c6602/images/ico/favicon.ico" alt="" width="22"/></a>
        </div>
         -->

    </div>

    <link rel="stylesheet" href="/js/prettify/prettify.css" />
<style type="text/css">
    body { background:#e8e8e8; }
    @media screen and (max-width: 750px){
        body { background:#fff; }
    }
    @media screen and (max-width: 1020px){
        body { background:#fff; }
    }
</style>

<div id="content">
    <div class="entry">
        <h1 class="entry-title"><a href="/python" title="Python memo">Python memo</a></h1>
        <p class="entry-date">2015-08-21</p>
        <h1>Python memo</h1>

<h2>Installation</h2>

<p>Add python search path</p>

<pre><code>import sys
sys.path.append('/www/python/')
</code></pre>

<p>change default installation library. Put the following lines in the ~/.pydistutils.cfg  file
<code>
[install]
install-lib=/home/bernardo/lianl0/python
install-purelib=lib
install-platlib=lib.$PLAT
install-scripts=scripts
install-headers=python/include
install-data=data
</code>
install with:
easy_install pandas</p>

<p>Or using the following command</p>

<pre><code>module load python-epd
cd pandas
python setup.py install
</code></pre>

<h2>Interactive plotting</h2>

<p>Unable to access the X Display, is DISPLAY set properly?
<code>
import matplotlib
matplotlib.use('Agg') # Must be before importing matplotlib.pyplot or pylab!
import matplotlib.pyplot as plt
import pandas as pd
fig = plt.figure()
plt.plot(range(10))
fig.savefig('temp.png')
</code>
If you want this to be the default behavior, you can modify your matplotlibrc file to use the Agg backend by default.
<code>
file is in .config/matplotlib/matplotlibrc
find -name matplotlibrc
</code>
open that file, put this line in the file backend: agg</p>

<p>Install packages locally
Go to source folder
<code>
python setup.py install --home=~/python
</code></p>

<h2>Use modules</h2>

<pre><code>sudo easy_install pandas
or pip install pandas
</code></pre>

<pre><code>import pandas
pandas.Series([4, 7, -5, 3])
</code></pre>

<p>or use the following command
from pandas import *
or from pandas import Series
<code>
Series([4, 7, -5, 3])
</code>
Sometimes, when you try to import pandas, it will report ImportError: cannot import name hashtable. This might be due to the fact your current working directory contains pandas. If you change the working directory, and import pandas from there, you will be able to import it.</p></p>

<p>If one method does not correctly install your package, you can try another method</p>

    </div>

    <div class="sidenav">
        <iframe width="100%" height="75" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=75&fansRow=2&ptype=1&speed=0&skin=5&isTitle=0&noborder=0&isWeibo=0&isFans=0&uid=1855270953&verifier=375b89d6&dpc=1"></iframe>
    </div>

    <div class="sidenav">

        <h2>TechMemo</h2>
        <ul class="artical-list">
        
            <li><a href="/Output-random-effects-from-SKAT">Output random effects estimates from SKAT.</a></li>
        
            <li><a href="/mixing-in-FWh0">mixing in FWh0</a></li>
        
            <li><a href="/rpy2">rpy2</a></li>
        
            <li><a href="/python">Python memo</a></li>
        
            <li><a href="/jekyll">Jekyll</a></li>
        
            <li><a href="/html">bash</a></li>
        
            <li><a href="/bash">bash</a></li>
        
            <li><a href="/R">R</a></li>
        
        </ul>

        <h2>Project</h2>
        <ul class="artical-list">
        
        </ul>
        
        <h2>Collection</h2>
        <ul class="artical-list">
        
            <li><a href="/overapi-cheatsheet">OverAPI</a></li>
        
            <li><a href="/raining-in-chrome">听雨</a></li>
        
            <li><a href="/github-pages">使用Github Pages建独立博客</a></li>
        
            <li><a href="/why-blog">我为什么写博客？</a></li>
        
        </ul>
    </div>
</div>

<script src="/js/post.js" type="text/javascript"></script>


    <script type="text/javascript">
        $(function(){
            $('.home-follow').click(function(e){
                e.preventDefault();

                if($('.home-contact').is(':visible')){
                    $('.home-contact').slideUp(100);
                }else{
                    $('.home-contact').slideDown(100);
                }
            });
        })
    </script>

</body>
</html>
